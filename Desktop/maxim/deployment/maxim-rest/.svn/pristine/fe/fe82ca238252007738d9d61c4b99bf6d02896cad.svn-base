<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.maxim.core.mapper.ext.OrdersExtraExtMapper">

    <insert id="insertBatch" parameterType="java.util.List">
        INSERT INTO ORDERS_EXTRA (BRANCH_CODE, BUSINESS_DATE, ORDER_NO,
        EVENT_NO, TRANS_TYPE, ORDER_SEQ,
        TRANS_DATETIME, UID_CD, STATION_ID,
        CONTACT_NO, REF_NO, DELIVERY,
        PICKUP_DATETIME, PICKUP_BRANCH, TRIP,
        PRODUCTION_BRANCH, GROSS_AMT, POST_DISCOUNT,
        GRAND_TOTAL, DEPOSIT, REMAIN,
        REMARKS, RECALL, REFUND,
        VOID, RESERVED, "STATUS",
        LAST_UPDATE_TIME, ROWGUID)
        <foreach collection="list" item="item" index="index" separator=" UNION ALL ">
            SELECT
            #{item.branchCode,jdbcType=VARCHAR},
            #{item.businessDate,jdbcType=TIMESTAMP},
            #{item.orderNo,jdbcType=VARCHAR},
            #{item.eventNo,jdbcType=VARCHAR},
            #{item.transType,jdbcType=VARCHAR},
            #{item.orderSeq,jdbcType=DECIMAL},
            #{item.transDatetime,jdbcType=TIMESTAMP},
            #{item.uid,jdbcType=DECIMAL},
            #{item.stationId,jdbcType=VARCHAR},
            #{item.contactNo,jdbcType=VARCHAR},
            #{item.refNo,jdbcType=VARCHAR},
            #{item.delivery,jdbcType=CHAR},
            #{item.pickupDatetime,jdbcType=TIMESTAMP},
            #{item.pickupBranch,jdbcType=VARCHAR},
            #{item.trip,jdbcType=VARCHAR},
            #{item.productionBranch,jdbcType=VARCHAR},
            #{item.grossAmt,jdbcType=DECIMAL},
            #{item.postDiscount,jdbcType=CHAR},
            #{item.grandTotal,jdbcType=DECIMAL},
            #{item.deposit,jdbcType=DECIMAL},
            #{item.remain,jdbcType=DECIMAL},
            #{item.remarks,jdbcType=VARCHAR},
            #{item.recall,jdbcType=DECIMAL},
            #{item.refund,jdbcType=CHAR},
            #{item.voidVal,jdbcType=CHAR},
            #{item.reserved,jdbcType=VARCHAR},
            'C',
            #{item.lastUpdateTime,jdbcType=TIMESTAMP},
            #{item.rowguid,jdbcType=VARCHAR}
            FROM DUAL
        </foreach>
    </insert>

    <delete id="deleteBatch" parameterType="java.util.List">
        DELETE FROM ORDERS_EXTRA WHERE ROWGUID IN
        <foreach collection="list" item="item" open="(" separator="," close=")">
            #{item.rowguid,jdbcType=VARCHAR}
        </foreach>
    </delete>

</mapper>